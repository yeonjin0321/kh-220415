package ajdbc.dept;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.List;
import java.util.Map;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;

import address.view2.DBConnectionMgr;

public class EmpSumList extends JFrame implements ActionListener {
	JButton jbtn_select = new JButton("조회");
	String headers[] = {"부서명","CLERK","MANAGER","ETC","DEPT_SAL"};
	String data [][] = new String[0][5];
	DefaultTableModel dtm = new DefaultTableModel(data,headers);
	JTable jtb = new JTable(dtm);
	JScrollPane jsp = new JScrollPane(jtb);
	
	Connection con = null;
	PreparedStatement pstmt = null;
	ResultSet rs = null;
	
	DBConnectionMgr dbMgr = new DBConnectionMgr(); 
	
	
	public EmpSumList() {
		jbtn_select.addActionListener(this);
		
		initDisplay();
	}

	public List<Map<String, Object>> getEmpSumList() {
		System.out.println("getEmpSumList initDisplay 호출 성공");
		List<Map<String, Object>> list = null;
		StringBuilder sql = new StringBuilder();
		try {
			con = dbMgr.getConnection();
			pstmt = con.prepareStatement(sql.toString());
			rs =pstmt.executeQuery();
			while(rs.next()) {
				
				
			}
		} catch (Exception e) {
		}
		return list;
	}

	public void initDisplay() {
		System.out.println("initDisplay 호출 성공");
		this.add("North",jbtn_select);
		this.add("Center",jsp); //바닥에 스크롤
		
		this.setSize(500, 400);
		this.setVisible(true);
		
	}

	public static void main(String[] args) {
		new EmpSumList();
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		//이벤트가 감지된 컴포넌트의 주소번지
		Object obj = e.getSource();
		if(obj == jbtn_select) {
			System.out.println("조회 버튼 누른거야!");
			getEmpSumList(); //메소드 호출
			
		}
	}

}
